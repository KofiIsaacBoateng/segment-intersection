<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segment Intersection</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: #222
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script src="util.js"></script>
    <script>
        // canvas initiation and context creation
        canvas.width = window.innerWidth
        canvas.height = window.innerHeight
        const ctx = canvas.getContext("2d")

        // lines coordinates
        
        const A = {x: 220, y: 120}
        const B = {x: 220, y: 220}
        const C = {x: 50, y: 100}
        const D = {x: 250, y: 150}

        let t = -1
        const animate = () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height)

            ctx.beginPath() 
            ctx.strokeStyle="white"
            ctx.strokeWidth=2

            ctx.moveTo(A.x, A.y)
            ctx.lineTo(B.x, B.y)
            ctx.stroke()
            ctx.moveTo(C.x, C.y)
            ctx.lineTo(D.x, D.y)
            ctx.stroke()

            // draw point indicators - from utils.js
            drawDot(ctx, A, "A")
            drawDot(ctx, B, "B")
            drawDot(ctx, C, "C")
            drawDot(ctx, D, "D")

            // point of intersection for each line 
            let I = { // line AB
                x: lerp(A.x, B.x, t),
                y: lerp(A.y, B.y, t)
            }

            let J = { // line CD
                x: lerp(C.x, D.x, t),
                y: lerp(C.y, D.y, t)
            }

            drawDot(ctx, I, "I")
            drawDot(ctx, J, "J")

            t+=0.01
            requestAnimationFrame(animate)
        }


        animate()



    
    </script>
</body>
</html>